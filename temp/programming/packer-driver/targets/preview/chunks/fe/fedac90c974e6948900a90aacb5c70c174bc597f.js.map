{"version":3,"sources":["file:///D:/Work/job/CardsGame/assets/Classes/models/CardModel.ts"],"names":["CardModel","constructor","config","id","isFaceUp","isLocked","currentArea","position","x","y","zIndex","generateId","Position","Date","now","Math","random","toString","substr","updatePosition","updateArea","area","setLocked","locked","clone","cloned"],"mappings":";;;8BAGaA,S;;;;;;;;;;;;;;;;;;;;;AADb;2BACaA,S,GAAN,MAAMA,SAAN,CAAgB;AAQiC;AAEpDC,QAAAA,WAAW,CAACC,MAAD,EAAqBC,EAArB,EAAkC;AAAA,eAT7BA,EAS6B;AATO;AASP,eAR7BD,MAQ6B;AARQ;AAQR,eANtCE,QAMsC,GANlB,KAMkB;AANO;AAMP,eALtCC,QAKsC,GALlB,KAKkB;AALO;AAKP,eAJtCC,WAIsC,GAJhB,EAIgB;AAJO;AAIP,eAHtCC,QAGsC,GAHD;AAAEC,YAAAA,CAAC,EAAE,CAAL;AAAQC,YAAAA,CAAC,EAAE;AAAX,WAGC;AAHgB;AAGhB,eAFtCC,MAEsC,GAFrB,CAEqB;AACzC,eAAKR,MAAL,GAAcA,MAAd;AACA,eAAKC,EAAL,GAAUA,EAAE,IAAI,KAAKQ,UAAL,EAAhB;AACA,eAAKJ,QAAL,gBAAqBL,MAAM,CAACU,QAA5B;AACH,SAdkB,CAgBnB;;;AACQD,QAAAA,UAAU,GAAW;AACzB,2BAAeE,IAAI,CAACC,GAAL,EAAf,SAA6BC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAA7B;AACH,SAnBkB,CAqBnB;;;AACOC,QAAAA,cAAc,CAACX,CAAD,EAAYC,CAAZ,EAA6B;AAC9C,eAAKF,QAAL,GAAgB;AAAEC,YAAAA,CAAF;AAAKC,YAAAA;AAAL,WAAhB;AACH,SAxBkB,CA0BnB;;;AACOW,QAAAA,UAAU,CAACC,IAAD,EAAqB;AAClC,eAAKf,WAAL,GAAmBe,IAAnB;AACH,SA7BkB,CA+BnB;;;AACOC,QAAAA,SAAS,CAACC,MAAD,EAAwB;AACpC,eAAKlB,QAAL,GAAgBkB,MAAhB;AACH,SAlCkB,CAoCnB;;;AACOC,QAAAA,KAAK,GAAc;AACtB,cAAMC,MAAM,GAAG,IAAIzB,SAAJ,CAAc,KAAKE,MAAnB,EAA2B,KAAKC,EAAhC,CAAf;AACAsB,UAAAA,MAAM,CAACrB,QAAP,GAAkB,KAAKA,QAAvB;AACAqB,UAAAA,MAAM,CAACpB,QAAP,GAAkB,KAAKA,QAAvB;AACAoB,UAAAA,MAAM,CAACnB,WAAP,GAAqB,KAAKA,WAA1B;AACAmB,UAAAA,MAAM,CAAClB,QAAP,gBAAuB,KAAKA,QAA5B;AACAkB,UAAAA,MAAM,CAACf,MAAP,GAAgB,KAAKA,MAArB;AACA,iBAAOe,MAAP;AACH;;AA7CkB,O;AAgDvB;AACA;AACA","sourcesContent":["import { CardConfig } from './CardData';\r\n\r\n// 扑克牌数据模型\r\nexport class CardModel {\r\n    public readonly id: string;                         // 唯一标识符\r\n    public readonly config: CardConfig;                  // 基础配置\r\n    \r\n    public isFaceUp: boolean = false;                   // 是否正面朝上\r\n    public isLocked: boolean = false;                   // 是否锁定\r\n    public currentArea: string = '';                    // 当前所在区域\r\n    public position: { x: number; y: number } = { x: 0, y: 0 };  // 当前位置\r\n    public zIndex: number = 0;                          // 层级深度\r\n\r\n    constructor(config: CardConfig, id?: string) {\r\n        this.config = config;\r\n        this.id = id || this.generateId();\r\n        this.position = { ...config.Position };\r\n    }\r\n\r\n    // 生成唯一ID\r\n    private generateId(): string {\r\n        return `card_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n    }\r\n\r\n    // 更新位置\r\n    public updatePosition(x: number, y: number): void {\r\n        this.position = { x, y };\r\n    }\r\n\r\n    // 更新区域\r\n    public updateArea(area: string): void {\r\n        this.currentArea = area;\r\n    }\r\n\r\n    // 设置锁定状态\r\n    public setLocked(locked: boolean): void {\r\n        this.isLocked = locked;\r\n    }\r\n\r\n    // 克隆当前卡片\r\n    public clone(): CardModel {\r\n        const cloned = new CardModel(this.config, this.id);\r\n        cloned.isFaceUp = this.isFaceUp;\r\n        cloned.isLocked = this.isLocked;\r\n        cloned.currentArea = this.currentArea;\r\n        cloned.position = { ...this.position };\r\n        cloned.zIndex = this.zIndex;\r\n        return cloned;\r\n    }\r\n}\r\n\r\n/**\r\n * 卡牌状态快照\r\n */\r\nexport interface CardState {\r\n    id: string;                                          // 唯一标识符\r\n    face: number;                                        // 牌面\r\n    suit: number;                                        // 花色\r\n    isFaceUp: boolean;                                   // 是否正面朝上\r\n    isLocked: boolean;                                   // 是否锁定\r\n    area: string;                                        // 所在区域\r\n    position: { x: number; y: number };                  // 位置\r\n    zIndex: number;                                      // 层级深度\r\n}\r\n"]}