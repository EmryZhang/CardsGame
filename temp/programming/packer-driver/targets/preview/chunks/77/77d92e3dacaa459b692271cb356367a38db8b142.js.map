{"version":3,"sources":["file:///D:/Work/job/CardsGame/assets/Classes/services/CardService.ts"],"names":["CardService","canConnectCards","card1","card2","face1","config","CardFace","face2","diff","Math","abs","canMoveToCard","card","targetCard"],"mappings":";;;8BAMaA,W;;;;;;;;;;;;;;;;;;AANb;AACA;AACA;AACA;;;6BAGaA,W,GAAN,MAAMA,WAAN,CAAkB;AACrB;AACJ;AACA;AACA;AACA;AACA;AACiC,eAAfC,eAAe,CAACC,KAAD,EAAmBC,KAAnB,EAA8C;AACvE,cAAMC,KAAK,GAAGF,KAAK,CAACG,MAAN,CAAaC,QAA3B;AACA,cAAMC,KAAK,GAAGJ,KAAK,CAACE,MAAN,CAAaC,QAA3B,CAFuE,CAIvE;;AACA,cAAME,IAAI,GAAGC,IAAI,CAACC,GAAL,CAASN,KAAK,GAAGG,KAAjB,CAAb,CALuE,CAOvE;;AACA,cAAIC,IAAI,KAAK,CAAb,EAAgB;AACZ,mBAAO,IAAP;AACH,WAVsE,CAYvE;;;AACA,cAAKJ,KAAK,KAAK,EAAV,IAAgBG,KAAK,KAAK,CAA3B,IAAkCH,KAAK,KAAK,CAAV,IAAeG,KAAK,KAAK,EAA/D,EAAoE;AAChE,mBAAO,IAAP;AACH;;AAED,iBAAO,KAAP;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AAC+B,eAAbI,aAAa,CAACC,IAAD,EAAkBC,UAAlB,EAAkD;AACzE,iBAAO,KAAKZ,eAAL,CAAqBW,IAArB,EAA2BC,UAA3B,CAAP;AACH;;AAnCoB,O","sourcesContent":["/**\r\n * 卡牌服务类\r\n * 处理卡牌相关的业务逻辑\r\n */\r\nimport { CardModel } from '../models/CardModel';\r\n\r\nexport class CardService {\r\n    /**\r\n     * 检查两张牌的点数是否可以连接\r\n     * @param card1 第一张牌\r\n     * @param card2 第二张牌\r\n     * @returns 是否可以连接（点数绝对值差1，不包括相等）\r\n     */\r\n    public static canConnectCards(card1: CardModel, card2: CardModel): boolean {\r\n        const face1 = card1.config.CardFace;\r\n        const face2 = card2.config.CardFace;\r\n\r\n        // 计算点数绝对值差\r\n        const diff = Math.abs(face1 - face2);\r\n\r\n        // 点数绝对值差1，不包括相等\r\n        if (diff === 1) {\r\n            return true;\r\n        }\r\n\r\n        // K（12）和A（0）也算作点数差1\r\n        if ((face1 === 12 && face2 === 0) || (face1 === 0 && face2 === 12)) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 检查卡牌是否可以移动到目标卡牌\r\n     * @param card 要移动的卡牌\r\n     * @param targetCard 目标卡牌\r\n     * @returns 是否可以移动\r\n     */\r\n    public static canMoveToCard(card: CardModel, targetCard: CardModel): boolean {\r\n        return this.canConnectCards(card, targetCard);\r\n    }\r\n}\r\n"]}